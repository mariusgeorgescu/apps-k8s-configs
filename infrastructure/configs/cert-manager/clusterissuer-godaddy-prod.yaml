apiVersion: cert-manager.io/v1
kind: ClusterIssuer
metadata:
  # Emitter global pentru certificate (Let’s Encrypt producție)
  name: letsencrypt-godaddy-prod
spec:
  acme:
    # Email-ul asociat contului ACME (pentru notificări)
    email: georgescumarius@live.com
    # Endpoint-ul ACME de producție
    server: https://acme-v02.api.letsencrypt.org/directory
    privateKeySecretRef:
      # Secret-ul unde se păstrează cheia contului ACME
      name: letsencrypt-godaddy-prod
    solvers:
      - dns01:
          webhook:
            # Trebuie să corespundă cu parametrul groupName la instalarea webhook-ului
            groupName: acme.mycompany.com
            solverName: godaddy
            config:
              apiKeySecretRef:
                # Secret-ul cu token-ul GoDaddy (API_KEY:API_SECRET)
                name: godaddy-api-token
                key: token
              production: true


