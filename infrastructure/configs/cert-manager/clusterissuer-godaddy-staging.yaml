apiVersion: cert-manager.io/v1
kind: ClusterIssuer
metadata:
  # Emitor global pentru certificate (Let’s Encrypt staging – pentru teste)
  name: letsencrypt-godaddy-staging
spec:
  acme:
    # Emailul asociat contului ACME
    email: georgescumarius@live.com
    # Endpointul ACME de staging (nu produce certificate valide public)
    server: https://acme-staging-v02.api.letsencrypt.org/directory
    privateKeySecretRef:
      name: letsencrypt-godaddy-staging
    solvers:
      - dns01:
          webhook:
            groupName: acme.mycompany.com
            solverName: godaddy
            config:
              apiKeySecretRef:
                # Secretul cu tokenul GoDaddy (API_KEY:API_SECRET)
                name: godaddy-api-token
                key: token
              production: false

