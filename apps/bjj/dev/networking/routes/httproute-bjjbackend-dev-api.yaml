# HTTPRoute principal pentru traficul HTTPS către bjjbackend dev.
apiVersion: gateway.networking.k8s.io/v1 # Versiunea API pentru HTTPRoute
kind: HTTPRoute # Tipul resursei este HTTPRoute
metadata: # Metadate Kubernetes
  name: httproute-bjjbackend-dev-api # Numele rutei către backend dev
  namespace: bjj # Namespace-ul resursei
spec: # Specificația rutei  
  parentRefs: # Gateway/Listener părinte
  - name: dev-gateway-bjjbackend-dev-api # Gateway-ul dev cu prefix
    sectionName: https # Listener-ul HTTPS pe portul 443
  hostnames: # Domeniile pentru care se aplică ruta
  - dev-bjjbackend.cardano.vip # Domeniul dev al aplicației
  rules: # Reguli de rutare
  - matches: # Tipare de potrivire pentru cereri
    - path:
        type: PathPrefix # Tipul de potrivire pe cale
        value: / # Toate căile
    backendRefs: # Backendurile către care se forwardează traficul
    - name: dev-service-bjjbackend-api # Numele Service-ului backend cu prefix
      port: 8082 # Portul backendului
