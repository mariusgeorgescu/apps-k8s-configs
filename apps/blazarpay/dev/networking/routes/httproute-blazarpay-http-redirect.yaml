# HTTPRoute pentru redirect HTTP->HTTPS pentru blazarpay.
apiVersion: gateway.networking.k8s.io/v1 # Versiunea API pentru HTTPRoute
kind: HTTPRoute # Tipul resursei este HTTPRoute
metadata: # Metadate Kubernetes
  name: httproute-blazarpay-http-redirect # Numele rutei de redirect HTTP
  namespace: blazarpay # Namespace-ul resursei
spec: # Specificația rutei
  parentRefs: # Gateway/Listener părinte
    - name: gateway-blazarpay # Gateway-ul
      sectionName: http # Listener-ul HTTP pe portul 80
  hostnames: # Domeniile pentru care se aplică ruta
    - blazarpay.cardano.vip # Domeniul aplicației
  rules: # Reguli de rutare
    - filters: # Filtre aplicate cererii
        - type: RequestRedirect # Tipul de filtru: redirect
          requestRedirect: # Configurația redirect-ului
            scheme: https # Redirect către HTTPS
            statusCode: 301 # Codul de status pentru redirect permanent
